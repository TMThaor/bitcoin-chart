(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2797:(e,t,l)=>{Promise.resolve().then(l.bind(l,8291))},4427:(e,t,l)=>{"use strict";l.d(t,{D:()=>r,ThemeProvider:()=>n});var s=l(5155),a=l(2115);let o=(0,a.createContext)(void 0),n=e=>{let{children:t}=e,[l,n]=(0,a.useState)("light");return(0,s.jsx)(o.Provider,{value:{theme:l,toggleTheme:()=>{n(e=>{let t="light"===e?"dark":"light";return localStorage.setItem("theme",t),document.documentElement.setAttribute("data-bs-theme",t),t})}},children:t})},r=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},8291:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>f});var s=l(5155),a=l(2115),o=l(4004);let n=function(e){let t=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!t.current)return;let l="dark"===e.theme?"#1e1e1e":"white",s="dark"===e.theme?"white":"black",a=(0,o.R9)(t.current,{width:t.current.clientWidth,height:t.current.clientHeight,layout:{textColor:s,background:{color:l}},rightPriceScale:{borderColor:"#0ca63f"},leftPriceScale:{borderColor:"#ccc"},timeScale:{timeVisible:!0,fixLeftEdge:!0,fixRightEdge:!0,lockVisibleTimeRangeOnResize:!0}}),n=a.addSeries(o.HD,{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"});n.priceScale().applyOptions({scaleMargins:{top:.1,bottom:.3}}),n.setData(e.data);let r=a.addSeries(o.Ej,{color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:""});return r.priceScale().applyOptions({scaleMargins:{top:.7,bottom:0}}),r.setData(e.data),()=>{a.remove()}},[e.data,e.theme]),(0,s.jsx)("div",{ref:t,style:{position:"relative",width:"100%",height:"400px"}})};var r=l(8094);let i=(e,t,l)=>{let{data:s,isLoading:a}=(0,r.Ay)("https://api.binance.com/api/v3/klines?symbol=".concat(t,"&interval=").concat(e,"&limit=").concat(l),e=>fetch(e).then(e=>e.json()));return!s||a?[]:null==s?void 0:s.map(e=>({time:parseFloat(e[0])/1e3,open:parseFloat(e[1]),high:parseFloat(e[2]),low:parseFloat(e[3]),close:parseFloat(e[4]),value:parseFloat(e[5]),closeTime:e[6],baseAssetVolume:parseFloat(e[7]),numberOfTrades:e[8],takerBuyVolume:parseFloat(e[9]),takerBuyBaseAssetVolume:parseFloat(e[10]),ignore:parseFloat(e[11])}))},c=(e,t)=>{let[l,s]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let l=new WebSocket("wss://stream.binance.com:9443/ws/".concat(t.toLowerCase(),"@kline_").concat(e));return l.onmessage=e=>{let t=JSON.parse(e.data).k;s({openTime:t.t,open:parseFloat(t.o),high:parseFloat(t.h),low:parseFloat(t.l),close:parseFloat(t.c),volume:parseFloat(t.v),closeTime:t.T,baseAssetVolume:parseFloat(t.q),numberOfTrades:t.n,takerBuyVolume:parseFloat(t.V),takerBuyBaseAssetVolume:parseFloat(t.Q),ignore:0})},()=>{l.close()}},[e,t]),l},d=function(e){return(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"button",id:"5m"===e.selectedButton?"buttonActive":"",onClick:()=>e.onButtonClick("1m"),children:"5m"}),(0,s.jsx)("button",{className:"button",id:"30m"===e.selectedButton?"buttonActive":"",onClick:()=>e.onButtonClick("30m"),children:"30m"}),(0,s.jsx)("button",{className:"button",id:"1h"===e.selectedButton?"buttonActive":"",onClick:()=>e.onButtonClick("1h"),children:"1h"}),(0,s.jsx)("button",{className:"button",id:"4h"===e.selectedButton?"buttonActive":"",onClick:()=>e.onButtonClick("4h"),children:"4h"}),(0,s.jsx)("button",{className:"button",id:"1d"===e.selectedButton?"buttonActive":"",onClick:()=>e.onButtonClick("1d"),children:"1d"}),(0,s.jsx)("button",{className:"button",id:"1w"===e.selectedButton?"buttonActive":"",onClick:()=>e.onButtonClick("1w"),children:"1w"})]})};var u=l(4798),h=l(891),m=l(5859),p=l(4427),b=l(5565);let x=function(){let{theme:e,toggleTheme:t}=(0,p.D)();return(0,s.jsx)(m.A,{expand:"lg",className:"bg-body-tertiary",children:(0,s.jsxs)(u.A,{children:[(0,s.jsxs)(m.A.Brand,{href:"#home",className:"bold",children:[(0,s.jsx)(b.default,{src:"/btc.png",width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"}),"Bitcoin chart"]}),(0,s.jsx)(m.A.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,s.jsx)(m.A.Collapse,{id:"basic-navbar-nav",children:(0,s.jsxs)(h.A,{className:"me-auto",children:[(0,s.jsx)(h.A.Link,{href:"#home",children:"Home"}),(0,s.jsxs)("button",{onClick:t,children:["Switch to ","light"===e?"Dark":"Light"," Mode"]})]})})]})})},j=()=>{let[e]=(0,a.useState)("1m"),[t]=(0,a.useState)("BTCUSDT"),l=i("1m","BTCUSDT",1)[0],o=c(e,t);return(0,a.useEffect)(()=>{o&&console.log("Live Candle:",o)},[o]),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"bold",children:"BTC/USDT Chart"}),(0,s.jsxs)("h4",{className:"d-flex",children:[(0,s.jsx)("p",{className:"d-inliner",children:"Real-time price: "}),(0,s.jsxs)("p",{className:"d-inliner text-info",children:["$",null==o?void 0:o.close]})]}),(0,s.jsxs)("h4",{className:"d-flex",children:[(0,s.jsx)("p",{className:"d-inliner",children:"Price 1min before: "}),(0,s.jsxs)("p",{className:"d-inliner text-info",children:["$",null==l?void 0:l.close]})]})]})};var v=l(6121),k=l(3667);function f(){let[e,t]=(0,a.useState)("1d"),{theme:l}=(0,p.D)(),o=i(e,"BTCUSDT",500);return(0,s.jsxs)(u.A,{className:"main",children:[(0,s.jsx)(x,{}),(0,s.jsxs)("div",{className:"content",children:[(0,s.jsx)("div",{className:"changeTimeFrame",children:(0,s.jsx)(d,{selectedButton:e,onButtonClick:e=>{t(e)}})}),(0,s.jsx)(u.A,{children:(0,s.jsxs)(v.A,{children:[(0,s.jsx)(k.A,{md:5,xs:12,className:"",children:(0,s.jsx)(j,{})}),(0,s.jsx)(k.A,{md:7,xs:12,className:"",children:(0,s.jsx)(n,{data:o,theme:l})})]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[426,746,441,587,358],()=>t(2797)),_N_E=e.O()}]);